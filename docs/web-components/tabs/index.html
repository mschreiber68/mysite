<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Mike Schreiber</title>
  <meta name="description" content="Mike Schreiber">
  <meta name="author" content="Mike Schreiber">

  <meta property="og:title" content="Mike Schreiber">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://mikeschreiber.dev/">
  <meta property="og:description" content="Mike Schreiber's Page">

  <style>
      :root{--text-color:#444;--primary-color:#336b87;--breakpointSmall:600px}body{background:#fff;color:var(--text-color);display:flex;font-family:Verdana,sans-serif;justify-content:center;padding-bottom:80px}.pageContent{margin:0 15px;width:min(900px,100%)}button{background-color:var(--primary-color);border:none;border-radius:6px;color:#fff;cursor:pointer;padding:12px}@media only screen and (min-width:900px){.pageContent{width:900px}}@media only screen and (max-width:600px){.bigScreenHeader{display:none}}a.textLink{text-decoration:underline}nav a:before,nav a:hover{font-weight:700}nav a:before{content:attr(title);display:block;height:0;overflow:hidden;visibility:hidden}.globalHeading{display:grid;grid-template-areas:"name name" "top top" "nav nav" "bottom bottom"}.nameHeader{grid-area:name;margin:12px 0}.topSeparator{grid-area:top;width:100%}.hamburgerNav{grid-area:nav}.bottomSeparator{grid-area:bottom;width:100%}.hamburgerButton{display:none}.navLinks{display:flex;gap:1.5em;padding:12px 0}a.navLink:active,a.navLink:hover,a.navLink:link,a.navLink:visited{color:var(--text-color);text-decoration:none}@media only screen and (max-width:800px){.globalHeading{grid-template-areas:"top top" "name nav" "bottom bottom";grid-template-columns:1fr auto}.nameHeader{font-size:24px}.hamburgerNav{display:flex;flex-direction:column;justify-content:center;position:relative}.hamburgerButton{cursor:pointer;display:block;font-size:24px}.hamburgerContent{background-color:#fff;display:none;position:absolute;right:0;top:100%;z-index:10}.hamburgerNav[active] .hamburgerContent{display:block}.navLinks{background-color:#eee;border-radius:8px;flex-direction:column;gap:0;padding:8px}.navLink{display:block;margin:8px;white-space:nowrap}}.tabsDemo .tabRow{display:flex}.tabsDemo x-tab{cursor:pointer;padding:12px 32px}.tabsDemo x-tab[selected]{border-bottom:3px solid var(--primary-color)}.tabsDemo x-tab-panel{display:block;padding:12px}.tabsDemo x-tab-panel[hidden]{display:none}ul code{font-size:1rem}  </style>

  <script type="module" src="/js/patterns/nav.js"></script>
    <script type="module" src="/js/components/tabs.js"></script>
  <script type="module" src="/js/components/code.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/github-dark-dimmed.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script></head>

<body>
<div class="pageContent">


<div class="globalHeading">
  <h1 class="nameHeader">Mike Schreiber</h1>
  <hr class="topSeparator">
  <x-dropdown class="hamburgerNav">
    <x-dropdown-toggle class="hamburgerButton">â˜°</x-dropdown-toggle>
    <x-dropdown-content class="hamburgerContent">
      <nav class="navLinks">
            <a class="navLink" href="/" title="Home">Home</a>
    <a class="navLink" href="/web-components" title="Web Components">Web Components</a>
    <a class="navLink" href="/games" title="Games">Games</a>
    <a class="navLink" href="/about" title="About">About</a>

      </nav>
    </x-dropdown-content>
  </x-dropdown>
  <hr class="bottomSeparator">
</div><main>
    <h2>Tabs</h2>
  <h3>Components</h3>
  <p>
    Tabs are made up of a set of three components:
  </p>
    <ul>
      <li>
        <code>Tab</code> - A single tab.
      </li>
      <li>
        <code>TabPanel</code> - A container of content that is visible when its corresponding <code>Tab</code> is selected.
      </li>
      <li>
        <code>Tabs</code> - The top-level component containing <code>Tab</code> and <code>TabPanel</code> components.
      </li>
    </ul>
  <p>
    The Tabs components only define behavior; there is no CSS or Shadow DOM used.
    This allows client code to customize every aspect of the visual design based on the dynamic attribute behavior.
  </p>
  <p>
    Besides the expected ARIA attribute updates, the following is the component behavior:
  </p>
  <ul>
    <li>
      The currently active <code>Tab</code> will have the <code>selected</code> attribute.
    </li>
    <li>
      The currently inactive <code>TabPanels</code> will have the <code>hidden</code> attribute.
    </li>
    <li>
      When a <code>Tab</code> is selected, <code>Tabs</code> will dispatch the <code>tab-selected</code> event.
    </li>
  </ul>
  <x-code language="javascript">/***********************************************
    Tab 
 ***********************************************/

let tabCounter = 0;

class Tab extends HTMLElement {
    static get observedAttributes() {
        return ['selected'];
    }

    get selected() {
        return this.hasAttribute('selected');
    }

    set selected(value) {
        if (value)
            this.setAttribute('selected', '');
        else
            this.removeAttribute('selected');
    }

    attributeChangedCallback() {
        const value = this.hasAttribute('selected');
        this.setAttribute('aria-selected', value.toString());
        this.setAttribute('tabindex', value ? '0' : '-1');
    }

    connectedCallback() {
        if (!this.id) {
            this.id = `tab-${++tabCounter}`;
        }

        this.setAttribute('role', 'tab');
        this.setAttribute('aria-selected', 'false');
        this.setAttribute('tabindex', '-1');
        this.#upgradeProperty('selected');
    }

    #upgradeProperty(prop) {
        if (this.hasOwnProperty(prop)) {
            let value = this[prop];
            delete this[prop];
            this[prop] = value;
        }
    }
}

window.customElements.define('x-tab', Tab);

/***********************************************
    TabPanel
 ***********************************************/

let panelCounter = 0;

class TabPanel extends HTMLElement {
    connectedCallback() {
        if (!this.id) {
            this.id = `tab-panel-${++panelCounter}`;
        }
        this.setAttribute('role', 'tabpanel');
    }
}

window.customElements.define('x-tab-panel', TabPanel);

/***********************************************
    Tabs
 ***********************************************/

class Tabs extends HTMLElement {
    connectedCallback() {
        if (!this.hasAttribute('role')) {
            this.setAttribute('role', 'tablist');
        }

        this.addEventListener('click', this.#onClick.bind(this));

        this.#linkPanelsAria();
    }

    #getTabs() {
        return [...this.querySelectorAll('x-tab')];
    }

    #getPanels() {
        return [...this.querySelectorAll('x-tab-panel')];
    }

    #linkPanelsAria() {
        const tabs = this.#getTabs();
        const panels = this.#getPanels();

        tabs.forEach((tab, i) => {
            if (i < panels.length) {
                tabs[i].setAttribute('aria-controls', panels[i].id);
                panels[i].setAttribute('aria-labelledby', tabs[i].id);
            }
        })
    }

    #selectTab(tab) {
        if (tab.selected) return;

        this.#reset();

        tab.selected = true;
        this.#getPanelForTab(tab).hidden = false;
        tab.focus();

        this.dispatchEvent(new CustomEvent('tab-selected', { detail: { tab } }))
    }

    #getPanelForTab(tab) {
        const panelId = tab.getAttribute('aria-controls');
        return this.querySelector(`#${panelId}`);
    }

    #reset() {
        const tabs = this.#getTabs();
        tabs.forEach(tab => tab.selected = false);

        const panels = this.#getPanels();
        panels.forEach(panel => panel.hidden = true);
    }

    #onClick(event) {
        if (event.target.getAttribute('role') === 'tab') {
            this.#selectTab(event.target);
        }
    }
}

window.customElements.define('x-tabs', Tabs);</x-code>

  <h3>Demo</h3>
  <p>
    The demo below shows how to leverage the dynamic attribute behavior to implement a custom UX.
  </p>
  <x-code>&lt;x-tabs class=&quot;tabsDemo&quot;&gt;
  &lt;div class=&quot;tabRow&quot;&gt;
    &lt;x-tab&gt;Tab 1&lt;/x-tab&gt;
    &lt;x-tab selected&gt;Tab 2&lt;/x-tab&gt;
    &lt;x-tab&gt;Tab 3&lt;/x-tab&gt;
  &lt;/div&gt;
  &lt;x-tab-panel hidden&gt;Panel 1&lt;/x-tab-panel&gt;
  &lt;x-tab-panel&gt;Panel 2&lt;/x-tab-panel&gt;
  &lt;x-tab-panel hidden&gt;Panel 3&lt;/x-tab-panel&gt;
&lt;/x-tabs&gt;
</x-code>
  <x-code>.tabsDemo {
    .tabRow {
        display: flex;
    }

    x-tab {
        cursor: pointer;
        padding: 12px 32px;

        &[selected] {
            border-bottom: 3px solid var(--primary-color);
        }
    }

    x-tab-panel {
        display: block;
        padding: 12px;

        &[hidden] {
            display: none;
        }
    }
}</x-code>
  <x-tabs class="tabsDemo">
  <div class="tabRow">
    <x-tab>Tab 1</x-tab>
    <x-tab selected>Tab 2</x-tab>
    <x-tab>Tab 3</x-tab>
  </div>
  <x-tab-panel hidden>Panel 1</x-tab-panel>
  <x-tab-panel>Panel 2</x-tab-panel>
  <x-tab-panel hidden>Panel 3</x-tab-panel>
</x-tabs>


  <h3>Resources</h3>
  <p>
    <a href="https://github.com/GoogleChromeLabs/howto-components">Google's Web Component tutorials</a> were referenced when building these components.
  </p>
</main>

</div>
</body>
</html>